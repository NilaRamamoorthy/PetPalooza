{% extends "base.html" %}
{% load static %}
{% block content %}
<style>
  #rain-effect {
    position: absolute;
    top: 0;
    left: 50%;
    width: 200px;
    /* same as umbrella width */
    height: 200px;
    transform: translateX(-50%);
    pointer-events: none;
    overflow: hidden;
  }

  .drop {
    position: absolute;
    width: 2px;
    height: 10px;
    background: rgba(0, 0, 255, 0.5);
    bottom: 100%;
    animation: fall linear forwards;
  }

  @keyframes fall {
    to {
      transform: translateY(200px);
      opacity: 0;
    }
  }

  .service-card {
    background: #fff;
    border-radius: 16px;
    overflow: hidden;
    transition: transform 0.3s ease;
    text-align: center;
  }

  .service-card:hover {
    transform: translateY(-5px);
  }

  .service-img {
    width: 100%;
    height: 220px;
    object-fit: cover;
  }

  .service-title {
    background: #0066ff;
    color: #fff;
    font-weight: bold;
    font-size: 18px;
    padding: 12px 0;
    border-bottom-left-radius: 30px;
    border-bottom-right-radius: 30px;
  }

  .service-desc {
    padding: 15px;
    font-size: 14px;
    color: #333;
  }

  .promo-card {
    border-radius: 20px;
    overflow: hidden;
  }

  .discount-circle {
    position: absolute;
    top: 20px;
    left: -40px;
    background: white;
    color: black;
    font-weight: bold;
    text-align: center;
    border-radius: 50%;
    width: 100px;
    height: 100px;
    padding-top: 25px;
    font-size: 18px;
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
  }

  .pet-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .pet-card:hover {
    transform: translateY(-8px) scale(1.05);
    box-shadow: 0px 8px 20px rgba(0, 0, 0, 0.2);
    cursor: pointer;
  }

  .pet-card img {
    transition: transform 0.3s ease;
  }

  .pet-card:hover img {
    transform: scale(1.1);
  }


  .carousel-indicators {
    bottom: -10px;
    
  }

  .carousel-indicators [data-bs-target] {
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background-color: #000;
  }

  .carousel-indicators .active {
    background-color: blue;
  }
</style>

<!-- Carousel Section -->
<div id="promoCarousel" class="carousel slide m-2" data-bs-ride="carousel">
  

  <div class="carousel-inner">
    <!-- ✅ First Slide (Dog Raincoat) -->
    <!-- First Slide -->
    <div class="carousel-item active">
      <div class="d-flex flex-wrap align-items-center">
        <!-- Left Image (Dog) -->
        <div class="col-md-7">
          <img src="{% static 'images/dog-raincoat.png' %}" class="d-block w-100" alt="Dog in Raincoat">
        </div>

        <!-- Right Content -->
        <div class="col-md-5 d-flex flex-column justify-content-center align-items-center position-relative"
          style="padding: 72px; background-color: #92f992;">
          <!-- Rain Effect Container -->
          <div class="d-flex gap-2">
            <img src="{% static 'images/rain.png' %}" alt="Umbrella" style="max-width: 100px;">
            <div>
              <h2 class="fw-bold text-dark">Monsoon Edition for Dogs</h2>
              <img src="{% static 'images/umbrella-s.png' %}" alt="Umbrella" style="max-width: 100px;">
              <p class="mb-2">100% Water Proof</p>
            </div>
            <div id="rain-effect"></div>
            <img src="{% static 'images/umbrella.png' %}" alt="Umbrella"
              style="max-height: 70px; max-width: 50px; margin-left: -50px; margin-top: 60px;">
          </div>
          <!-- Shop Button -->
          <a href="{% url 'shop:main_type_products' 'dog' %}" class="btn btn-primary btn-lg mt-3 shadow">
            Shop Now
          </a>
        </div>
      </div>
    </div>

    <!-- ✅ Second Slide -->
    <div class="carousel-item">
      <div class="d-flex flex-wrap align-items-center">
        <!-- Left Puppy Image -->
        <div class="col-md-6 text-center">
          <img src="{% static 'images/slide2.png' %}" class="img-fluid" alt="Puppy" style="max-height: 400px;">
          <a href="{% url 'shop:main_type_products' 'dog' %}" class="btn btn-primary mt-3 shadow">Shop Now</a>
        </div>

        <!-- Right Content -->
        <div class="col-md-6 position-relative" style="background-color: #87f787; padding: 50px; height: 400px;">
          <!-- Background faded image -->
          <img src="{% static 'images/dog-background.png' %}" class="position-absolute top-0 start-0 w-100 h-100"
            style="opacity:0.1; object-fit:cover;" alt="Background Dogs">

          <!-- Discount Banner -->
          <div class="bg-primary text-white fw-bold text-center py-2 mb-3">
            Get upto 40% Discount on all products
          </div>

          <!-- Text in rounded black box -->
          <div class="text-white p-4 rounded-pill position-relative ps-3 text-center" style="z-index:2; background-color: rgba(0, 0, 0,0.3);">
            <h5 class="fs-6">If you love your butties<br>
              You know what’s good for them<br>
              Thats why we decided</h5>
            <h5 class="mt-3 fs-6">NO ARTIFICIAL FOOD<br>
              NO TOXIC TOYA</h4>
          </div>
        </div>
      </div>
    </div>


    <!-- Third Slide -->
<div class="carousel-item">
  <div class="d-flex flex-wrap align-items-center">
    
    <!-- Left side content -->
    <div class="col-md-6 p-4 text-center position-relative" style="background-color: #87f787; height: 400px;">
      
      <!-- Red diamond badge -->
      <div class="bg-danger  text-white fw-bold px-4 py-3 mt-3 position-absolute top-40 start-50 translate-middle"
           style="transform: rotate(45deg) translate(-50%, -50%); width:120px; height:90px; display:flex; flex-direction:column; justify-content:center; align-items:center;">
        <div style="transform: rotate(-45deg);">
          Only@ <br> ₹ 399
        </div>
      </div>

      <!-- Product images -->
      <div class="d-flex justify-content-center gap-3 " style="padding-top: 50px; margin-top: 40px;">
        <img src="{% static 'images/bowtie1.png' %}" alt="Bowtie 1" class="border p-1" style="width:120px; height:auto;">
        <img src="{% static 'images/bowtie2.png' %}" alt="Bowtie 2" class="border p-1" style="width:120px; height:auto;">
      </div>

      <!-- Shop Now button -->
      <a href="{% url 'shop:main_type_products' 'dog' %}" class="btn btn-primary btn-lg mt-4 shadow">
        Shop Now
      </a>
    </div>

    <!-- Right side (dog image + Save ribbon) -->
    <div class="col-md-6 position-relative text-center">
      <img src="{% static 'images/dog-bowtie.png' %}" class="img-fluid" alt="Dog with Bowtie" style="height: 400px;">

      <!-- Save Ribbon -->
      <div class="position-absolute bottom-0 start-0 translate-middle-x mb-3">
        <span class="bg-primary text-white fw-bold px-4 py-2" 
              style="clip-path: polygon(10% 0%, 90% 0%, 100% 50%, 90% 100%, 10% 100%, 0% 50%);">
          Save 100
        </span>
      </div>
    </div>

  </div>
</div>


    
  </div>

  


<!-- Pills Indicators -->
  <div class="carousel-indicators position-relative mb-3" >
    <button type="button" data-bs-target="#promoCarousel" data-bs-slide-to="0" class="active "
      aria-current="true" aria-label="Slide 1"></button>
    <button type="button" data-bs-target="#promoCarousel" data-bs-slide-to="1" class=""
      aria-label="Slide 2"></button>
      <button type="button" data-bs-target="#promoCarousel" data-bs-slide-to="2" class=""
      aria-label="Slide 3"></button>
  </div>

</div>





<div class="container my-5">
  <h2 class="text-center mb-4">Shop by Pet</h2>

  <div class="position-relative">
    <!-- Left Arrow -->
    <button id="scrollLeft" class="btn btn-primary position-absolute top-50 start-0 translate-middle-y d-none"
      style="z-index: 10; border-radius: 50%;">
      <i class="bi bi-chevron-left"></i>
    </button>

    <!-- Scrollable Row -->
    <div id="petCarousel" class="d-flex overflow-hidden">
      <div class="d-flex flex-nowrap" style="scroll-behavior: smooth;">
        {% for pet in pets %}
        <div class="text-center mx-3" style="min-width: 180px;">
          <div class="pet-card rounded-circle d-flex justify-content-center align-items-center p-3"
            style="background-color: #87f787; width: 180px; height: 180px; overflow: hidden;">
            {% if pet.image %}
            <img src="{{ pet.image.url }}" alt="{{ pet.name }}" class="img-fluid" style="max-height: 140px;">
            {% else %}
            <img src="{% static 'images/default.png' %}" alt="{{ pet.name }}" class="img-fluid"
              style="max-height: 140px;">
            {% endif %}
          </div>
          <p class="mt-2 fw-bold">{{ pet.name }}</p>
        </div>
        {% endfor %}
      </div>
    </div>

    <!-- Right Arrow -->
    <button id="scrollRight" class="btn btn-primary position-absolute top-50 end-0 translate-middle-y"
      style="z-index: 10; border-radius: 50%;">
      <i class="bi bi-chevron-right"></i>
    </button>
  </div>
</div>


<!--  Promotions-->
<section class="promotions py-5">
  <div class="container">
    <div class="row g-4">

      <!-- First Banner -->
      <div class="col-12">
        <div class="promo-card d-flex align-items-center justify-content-between p-4 rounded-4"
          style="background-color: #0056FF; color: #fff;">
          <div class="promo-text">
            <h3 class="fw-bold">Store - Door savings with Autoship.</h3>
            <p>SAVE 35% on first order plus stack limited-time deals on top Autoship items, see terms</p>
            <a href="{% url 'shop:all_products' %}" class="btn btn-light fw-bold px-4 py-2">
              Shop & Save
            </a>



          </div>
          <div class="promo-img position-relative">
            <img src="{% static 'images/Promotion.png' %}" alt="Promo" class="img-fluid rounded-4"
              style="max-height: 250px;">
            <div class="discount-circle">Save<br>35%</div>
          </div>
        </div>
      </div>

      <!-- Second Banner -->
      <div class="col-12">
        <div class="promo-card d-flex align-items-center justify-content-between p-4 rounded-4"
          style="background-color: #90EE90;">
          <div class="promo-text w-75">
            <h5 class="fw-bold">Buy 1 blue wilderness dry dog food, 13–28 lbs, get 2 free wild cut toppers*</h5>
          </div>
          <div class="promo-img text-center">
            <img src="{% static 'images/shopping (1).png' %}" alt="Dog Food" style="max-height: 100px;">
          </div>
          <div class="promo-btn">
            <a href="{% url 'shop:main_type_products' 'dog' %}" class="btn btn-primary fw-bold px-4 py-2">Shop Now</a>

          </div>
        </div>
      </div>

    </div>
  </div>
</section>


<!-- Pet Services -->
<section class="pet-services py-5">
  <div class="container text-center">
    <h2 class="fw-bold">Pet Services</h2>
    <p class="text-muted">Treats Rewards members earn points on every service</p>

    <div class="row justify-content-center mt-4 g-4">
      <!-- Grooming -->
      <div class="col-md-3">
        <div class="service-card  h-100">
          <img src="{% static 'images/grooming.png' %}" class="img-fluid service-img" alt="Grooming">
          <div class="service-title">Grooming</div>
          <p class="service-desc">Summer Salon Special Bandana, toy & more plus 2X points</p>
        </div>
      </div>

      <!-- Training -->
      <div class="col-md-3">
        <div class="service-card  h-100">
          <img src="{% static 'images/training.png' %}" class="img-fluid service-img" alt="Training">
          <div class="service-title">Training</div>
          <p class="service-desc">Any 6-wk. Training Class ONLY $129 (that’s $21.50 a week)</p>
        </div>
      </div>

      <!-- Petshotel -->
      <div class="col-md-3">
        <div class="service-card  h-100">
          <img src="{% static 'images/petshotel.png' %}" class="img-fluid service-img" alt="Petshotel">
          <div class="service-title">Petshotel</div>
          <p class="service-desc">Stay 4 nights get the 5th night FREE</p>
        </div>
      </div>

      <!-- Daycare -->
      <div class="col-md-3">
        <div class="service-card h-100">
          <img src="{% static 'images/daycare.png' %}" class="img-fluid service-img" alt="Daycare">
          <div class="service-title">Diggy day camp</div>
          <p class="service-desc">New Camper Special SAVE 50% on 1st day of play</p>
        </div>
      </div>
    </div>
  </div>
</section>



<script>
  const carousel = document.getElementById("petCarousel");
  const scrollLeftBtn = document.getElementById("scrollLeft");
  const scrollRightBtn = document.getElementById("scrollRight");

  function updateArrows() {
    scrollLeftBtn.classList.toggle("d-none", carousel.scrollLeft <= 0);
    const maxScroll = carousel.scrollWidth - carousel.clientWidth;
    scrollRightBtn.classList.toggle("d-none", carousel.scrollLeft >= maxScroll - 10);
  }

  scrollLeftBtn.addEventListener("click", () => {
    carousel.scrollBy({ left: -300, behavior: "smooth" });
  });

  scrollRightBtn.addEventListener("click", () => {
    carousel.scrollBy({ left: 300, behavior: "smooth" });
  });

  carousel.addEventListener("scroll", updateArrows);
  updateArrows();
</script>
<!-- Rain Effect JS -->
<script>
  function createDrop() {
    const rainContainer = document.getElementById("rain-effect");
    if (!rainContainer) return;

    const drop = document.createElement("div");
    drop.classList.add("drop");
    drop.style.left = Math.random() * 200 + "px";
    drop.style.animationDuration = 0.8 + Math.random() * 0.5 + "s";
    rainContainer.appendChild(drop);

    setTimeout(() => {
      drop.remove();
    }, 1500);
  }

  // Generate raindrops continuously
  setInterval(createDrop, 150);
</script>
{% endblock %}